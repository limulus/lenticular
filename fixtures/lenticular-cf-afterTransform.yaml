AWSTemplateFormatVersion: '2010-09-09'
Transform: 'AWS::Serverless-2016-10-31'
Description: Stack Template
Parameters:
  Stage:
    Type: String
  ReleaseVersion:
    Type: String
Resources:
  HelloWorldFunction:
    Type: 'AWS::Serverless::Function'
    Properties:
      FunctionName: !<!Join>
        - '-'
        - - !<!Ref> 'AWS::StackName'
          - HelloWorld
  UserDataBucket:
    Type: 'AWS::S3::Bucket'
    Properties:
      BucketName: !<!Join>
        - '-'
        - - !<!Ref> 'AWS::StackName'
          - UserData
          - !<!Ref> 'AWS::Region'
      VersioningConfiguration:
        Status: Enabled
      LifecycleConfiguration:
        Rules:
          - Status: Enabled
            NoncurrentVersionExpirationInDays: 15
